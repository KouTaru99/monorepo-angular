<label [for]="selectId" *ngIf="label" [class.required]="isRequired" >
  {{ label }}
</label>
<mat-form-field appearance="outline" style="width: 499px;">
  <mat-select
  [id]="selectId"
  [formControl]="control!"
  [multiple]="multiple"
  [compareWith]="compareWith"
  (closed)="clearSearchTerm()"
  >
    <div *ngIf="searchable">
      <input matInput type="text" class="search-field-in-select" (input)="onInputChange($event)" (keydown)="onKeyDown($event)" [(ngModel)]="searchTerm"/>
    </div>
      <mat-select-trigger>
        <div class="trigger-container">
          {{ getDisplayText() }}
        </div>
      </mat-select-trigger>
    @for (option of filteredOptions; track option.key) {
      <mat-option [value]="option">{{option.value}}</mat-option>
    }
  </mat-select>
</mat-form-field>


